<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Redirecting...</title>
        <meta name="referrer" content="never" />    

        <!-- Global Site Tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-DH8GYKXJW7"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-DH8GYKXJW7', {
                'send_page_view': true,
                'custom_map': {'dimension1': 'redirect_url'}
            });
        </script>
        <!-- End Global Site Tag (gtag.js) - Google Analytics -->

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-KPWT5XLQ');</script>
        <!-- End Google Tag Manager -->

    </head>

    <body>
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KPWT5XLQ"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <p id="text"></p>

        <script>
            document.getElementById("text").innerHTML = "redirecting...";

            function getParameterByName(name, url) {
                if (!url) {
                    url = window.location.href;
                }
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }


            url = getParameterByName("url");
            if (url) {
                try {
                    new URL(url); // Will throw error for invalid URLs
                    gtag('event', 'redirect_event', {'redirect_url': url});
                    window.location.href = url;
                } catch (_) {
                    document.getElementById("text").innerHTML = "Error: invalid URL";
                }
            } else {
                document.getElementById("text").innerHTML = "Error: no valid parameter";
            }
        </script>

    </body>
</html>
